!function(n,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):window.warn=e(n.jQuery)}(this,function(n){"use strict";function e(n){if("function"==typeof b){var e=b(n);if(e===!1)return;if("object"==typeof e&&e.done)return void e.done(function(){r()})}r()}function a(n){w||(w=!0,o(),d.show()),u=n.type,g=n.className,p=y[u],g&&p.addClass(g),p.show(),n.msg?y[u+"_msg"].html(n.msg).show():y[u+"_msg"].hide(),"alert"==u||"confirm"==u?(x(),b=n.callback,v||(v=!0,f.fadeIn(200)),y[u+"_header"].html(n.title),y[u+"_html"].html(n.html),y[u+"_btn"].html(n.btn),n.title?y[u+"_header"].show():y[u+"_header"].hide(),n.html?y[u+"_html"].show():y[u+"_html"].hide(),n.close?y[u+"_close"].show():y[u+"_close"].hide(),"alert"==u?n.btn||!n.close?y[u+"_footer"].show():y[u+"_footer"].hide():"confirm"==u&&(y[u+"_btn2"].html(n.btn2),n.btn||n.btn2||!n.close?y[u+"_footer"].show():y[u+"_footer"].hide()),m.css({scale:1.5,opacity:0}).show().animate({scale:1,opacity:1},200)):("loading"==u||"done"==u||"fail"==u||"message"==u)&&(v&&(v=!1,f.fadeOut(200)),("done"==u||"fail"==u||"message"==u)&&d.addClass("noevent"),m.fadeIn(200,function(){("done"==u||"fail"==u||"message"==u)&&m.delay(1e3).queue(function(n){n(),r()})}))}function r(){if(w)if(o(),("alert"==u||"confirm"==u)&&k(),_.length){i();var n=_.shift();a(n)}else v&&(v=!1,f.fadeOut(200)),m.fadeOut(200,i),w=!1,b=null,u=""}function i(){d.removeClass("noevent"),p.hide(),_.length?m.hide():d.hide(),g&&p.removeClass(g),p=null}function s(){"loading"==u&&r()}function l(e,r,i,s){"object"!=typeof i||i instanceof Array?"undefined"!=typeof i&&(r.msg=i+""):n.extend(r,i),"function"==typeof s&&(r.callback=s),r.type=e,w?_.push(r):a(r)}function o(){f.stop(!1,!0),m.stop(!1,!0)}var t='	<div id="warn-dialog-box">		<div class="warn-mask"></div>		<div class="warn-container">			<div class="warn-box warn-alert">				<div class="warn-header"></div>				<div class="warn-msg"></div>				<div class="warn-html"></div>				<div class="warn-footer"><span class="warn-btn"></span></div>				<div class="warn-close"></div>			</div>			<div class="warn-box warn-confirm">				<div class="warn-header"></div>				<div class="warn-msg"></div>				<div class="warn-html"></div>				<div class="warn-footer"><span class="warn-btn2"></span><span class="warn-btn"></span></div>				<div class="warn-close"></div>			</div>			<div class="warn-box warn-loading">				<div class="warn-icon"></div>				<div class="warn-msg"></div>			</div>			<div class="warn-box warn-done">				<div class="warn-icon"></div>				<div class="warn-msg"></div>			</div>			<div class="warn-box warn-fail">				<div class="warn-icon"></div>				<div class="warn-msg"></div>			</div>			<div class="warn-box warn-message">				<div class="warn-msg"></div>			</div>		</div>	</div>',c=n(document.body),d=n(t).hide().appendTo(c),f=d.children(".warn-mask").hide(),m=d.children(".warn-container").hide(),h="click",w=!1,v=!1,u="",g="",_=[],b=null,p=null,y={alert:m.children(".warn-alert").hide(),confirm:m.children(".warn-confirm").hide(),loading:m.children(".warn-loading").hide(),done:m.children(".warn-done").hide(),fail:m.children(".warn-fail").hide(),message:m.children(".warn-message").hide()};y.alert_close=y.alert.children(".warn-close"),y.alert_header=y.alert.children(".warn-header"),y.alert_msg=y.alert.children(".warn-msg"),y.alert_html=y.alert.children(".warn-html"),y.alert_footer=y.alert.children(".warn-footer"),y.alert_btn=y.alert_footer.children(".warn-btn"),y.confirm_close=y.confirm.children(".warn-close"),y.confirm_header=y.confirm.children(".warn-header"),y.confirm_msg=y.confirm.children(".warn-msg"),y.confirm_html=y.confirm.children(".warn-html"),y.confirm_footer=y.confirm.children(".warn-footer"),y.confirm_btn=y.confirm_footer.children(".warn-btn"),y.confirm_btn2=y.confirm_footer.children(".warn-btn2"),y.loading_msg=y.loading.children(".warn-msg"),y.done_msg=y.done.children(".warn-msg"),y.fail_msg=y.fail.children(".warn-msg"),y.message_msg=y.message.children(".warn-msg"),y.alert_btn.on(h,function(){return e(!0),!1}),y.alert_close.on(h,function(){return e(null),!1}),y.confirm_btn.on(h,function(){return e(!0),!1}),y.confirm_btn2.on(h,function(){return e(!1),!1}),y.confirm_close.on(h,function(){return e(null),!1});var x,k,C=0,N=1,j={};return j.setBgEffect=function(n){switch(n){case C:d.removeClass("noblur"),x=function(){},k=function(){};break;case N:d.addClass("noblur"),x=function(){c.addClass("modalBlur")},k=function(){c.removeClass("modalBlur")}}},j.setBgEffect(window.warnDefaultEffect||C),j.close=r,j.alert=function(n,e){var a={title:"提示",msg:"",html:"",btn:"好",className:"",close:!1,callback:null};l("alert",a,n,e)},j.confirm=function(n,e){var a={title:"提示",msg:"",html:"",btn:"确定",btn2:"取消",className:"",close:!1,callback:null};l("confirm",a,n,e)},j.loadStart=function(n){var e={msg:"加载中",className:""};w&&s(),l("loading",e,n)},j.loadEnd=function(){s()},j.done=function(n){var e={msg:"加载完成",className:""};w&&s(),l("done",e,n)},j.fail=function(n){var e={msg:"加载失败",className:""};w&&s(),l("fail",e,n)},j.message=function(n){var e={msg:"",className:""};l("message",e,n)},j});