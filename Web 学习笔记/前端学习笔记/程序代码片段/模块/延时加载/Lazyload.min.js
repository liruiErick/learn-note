!function(t,e){"use strict";"object"==typeof module&&"object"==typeof exports?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):(t.bjj=t.bjj||{},t.bjj.Lazyload=e(t.jQuery))}(this,function(t){"use strict";function e(e,o){function a(){var e,o,n=0,r=[],a=[],s=d.threshold,c=d.failure_limit,l=d.skip_invisible,u=d.prune_detached;h.each(function(){if(this.loaded)return r.push(this);e=e||i(f[0]).pad(s);var h=this;if(!l){var d=t(this);if(d.is(":hidden")){h=d.closest(":visible")[0];for(var p,g=d.parentsUntil(h).addBack(),m=0,b=g.length;b>m&&(p=g.eq(m),"none"!==p.css("display"));m++)h=p[0]}}if(o=i(h).compareTo(e),void 0===o&&u&&!t.contains(document,this))r.push(this);else if(0===o)a.push(this),n=0;else if(1===o)return n++<c}),h=h.not(r),setTimeout(function(){t(a).trigger("appear")},0)}function s(e){a(),h.length&&e&&t(e.currentTarget).one(e.type,s)}function c(){var e=this,o=t(e),i=o.attr(d.src_attribute),n=o.attr(d.size_attribute);return i?void(i!==o.data("original-image")&&(e.loaded=!1,(void 0===o.attr("src")||""===o.attr("src"))&&o.is("img")&&o.attr("src",d.placeholder),o.off("appear"),o.one("appear",function(){e.loaded||(d.appear.call(e,h.length,d),t("<img>").one("load error",function(t){if("error"===t.type)return d.error.call(e,h.length,d);var r="show"!==d.effect||d.effect_speed;r&&o.hide(),o.is("img")&&!n?o.attr("src",i):(o.data("background-image",o.css("background-image")),o.css({"background-image":"url("+i+")","background-position":"center","background-repeat":"no-repeat","background-size":n||"100% 100%"})),r&&o[d.effect](d.effect_speed),d.load.call(e,h.length,d)}).attr("src",i),e.loaded=!0,o.data("original-image",i))}),l||(o.off(d.event),o.one(d.event,function(){o.trigger("appear")})))):(e.loaded=!0,o.data("original-image",i),void(""===i&&(o.is("img")?o.attr("src",d.placeholder):o.css("background-image",o.data("background-image")))))}var f,h=t(e),d=t.extend({},r,o);f=void 0===d.container||d.container===window?n:t(d.container);var l=!!d.event.match(/scroll|touchmove/);l&&(f.one(d.event,s),n.one("resize",s),a()),h.each(c),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&n.on("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&h.each(function(){t(this).trigger("appear")})}),this.update=function(){if(e){for(var o=h.length;o--;)delete h[o];h.length=0,t.merge(h,t(e)),h.each(c),l&&(f.off(d.event,s),f.one(d.event,s),n.off("resize",s),n.one("resize",s))}return l&&a(),this},this.allshow=function(){return h.trigger("appear"),this}}function o(t){return function(e,o){var n=o||{},r=i(e[0]||e),a=i(n.container?n.container[0]||n.container:window);return r.empty||a.empty?void 0:t.call(r,r,n.threshold?a.pad(n.threshold):a)}}function i(e){if(!(this instanceof i))return new i(e);if(e===window)this.top=i.gbcr?0:window.pageYOffset||document.documentElement.scrollTop,this.left=i.gbcr?0:window.pageXOffset||document.documentElement.scrollLeft,this.bottom=this.top+(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight),this.right=this.left+(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth);else if(i.gbcr){var o=e.getBoundingClientRect();this.top=o.top,this.left=o.left,this.bottom=o.bottom,this.right=o.right}else{var n=t(e);if(n.is(":visible")){var r=n.offset();this.top=r.top,this.left=r.left,this.bottom=this.top+n.outerHeight(),this.right=this.left+n.outerWidth()}else this.top=this.left=this.bottom=this.right=0}this.empty=0===this.top&&0===this.bottom&&0===this.left&&0===this.right}var n=t(window),r={threshold:0,failure_limit:0,event:"scroll touchmove",effect:"fadeIn",container:window,src_attribute:"data-src",size_attribute:"data-size",skip_invisible:!1,prune_detached:!1,appear:t.noop,load:t.noop,error:t.noop,placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="};return e.prototype.constructor=e,t.extend({belowthefold:o(function(t,e){return t.top>e.bottom}),rightoffold:o(function(t,e){return t.left>e.right}),abovethetop:o(function(t,e){return t.bottom<e.top}),leftofbegin:o(function(t,e){return t.right<e.left}),inviewport:o(function(t,e){return 0===t.compareTo(e)})}),t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e)},"above-the-top":function(e){return t.abovethetop(e)},"right-of-screen":function(e){return t.rightoffold(e)},"left-of-screen":function(e){return t.leftofbegin(e)},"in-viewport":function(e){return t.inviewport(e)},"above-the-fold":function(e){return!t.belowthefold(e)},"right-of-fold":function(e){return t.rightoffold(e)},"left-of-fold":function(e){return!t.rightoffold(e)}}),i.gbcr=void 0!==document.documentElement.getBoundingClientRect,i.prototype.pad=function(t){return this.top-=t,this.left-=t,this.bottom+=t,this.right+=t,this},i.prototype.compareTo=function(t){return this.empty||t.empty?void 0:this.bottom<t.top||this.right<t.left?-1:this.top>t.bottom||this.left>t.right?1:0},e});