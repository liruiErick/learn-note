/*!
 * MoveEvent
 * @version v1.0.0
 * @author baijunjie
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MoveEvent=t():e.MoveEvent=t()}(window,function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";n.r(t);var o=function(e){return Array.prototype.map.call(e,function(e){return e})};t.default=function(e,t){return e instanceof HTMLElement?[e]:"object"==typeof e&&e.length?o(e):e&&"string"==typeof e?("string"==typeof t&&(t=document.querySelector(t)),t instanceof HTMLElement||(t=document),o(t.querySelectorAll(e))):[]}},function(e,t,n){"use strict";n.r(t),t.default=function(e){return"string"==typeof e}},function(e,t,n){"use strict";n.r(t),t.default=function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";n.r(t),t.default=function(){let e,t,n,o,i,r=arguments[0]||{},a=typeof r,c=Object.prototype.toString,s=1,d=arguments.length,l=!1;for("boolean"===a&&(l=r,a=typeof(r=arguments[s]||{}),s++),"object"!==a&&"function"!==a&&(r={}),s===d&&(r=this,s--);s<d;s++)if(null!=(e=arguments[s]))for(t in e)n=r[t],r!==(o=e[t])&&(l&&o&&((i="[object Array]"===c.call(o))||"[object Object]"===c.call(o))?(i?(i=!1,n=n&&"[object Array]"===c.call(n)?n:[]):n=n&&"[object Object]"===c.call(n)?n:{},r[t]=extend(l,n,o)):void 0!==o&&(r[t]=o));return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=s(n(0)),r=s(n(3)),a=s(n(2)),c=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var d=!!navigator.userAgent.match(/mobile/i),l="ontouchend"in document,u=window.navigator.pointerEnabled,p=window.navigator.msPointerEnabled,v=void 0,f=void 0,y=void 0,m=void 0;d?l?(v="touchstart",f="touchmove",y="touchend",m="touchcancel"):u?(v="pointerdown",f="pointermove",y="pointerup"):p?(v="MSPointerDown",f="MSPointerMove",y="MSPointerUp"):(v="mousedown",f="mousemove",y="mouseup"):(v="mousedown",f="mousemove",y="mouseup")
/**
 * 默认回调
 * this 指向 MoveEvent 的实例对象
 * 包含 2 个参数 function(event, data)
 *
 * @param event {Object} 原生事件对象
 * @param data  {Object} 移动信息对象
 */;var _=function(e,t){},b={obj:null,holder:null,start:_,move:_,end:_},h=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._startEventHandle=function(e){var t=void 0;switch(e.type){case"mousedown":case"pointerdown":case"MSPointerDown":t=e;break;case"touchstart":if(n._touchID>=0)return;t=e.changedTouches[0],n._touchID=t.identifier}var o=n._data,i=o.rect=n._getEventObjRect();o.xStart=o.x=t.clientX,o.yStart=o.y=t.clientY,o.xLocalStart=o.xLocal=o.x-i.left,o.yLocalStart=o.yLocal=o.y-i.top,o.dx=0,o.dy=0,o.dxAbs=0,o.dyAbs=0,o.dxLocal=0,o.dyLocal=0,o.dxLocalAbs=0,o.dyLocalAbs=0,o.dxStep=0,o.dyStep=0,o.dxStepAbs=0,o.dyStepAbs=0,o.swipeLeft=!1,o.swipeRight=!1,o.swipeTop=!1,o.swipeBottom=!1,o.swipe=!1,n._prevTime=o.startTime=o.dragTime=e.timeStamp,o.stepTime=0;var a=n._options.start;a&&!1===a.call(n._callbackHolder||n._eventObj,e,(0,r.default)({},o))&&(n._touchID=-1),n._allowEvent=!0},this._moveEventHandle=function(e){if(n._allowEvent){var t=void 0;switch(e.type){case"mousemove":case"pointermove":case"MSPointerMove":t=e;break;case"touchmove":if((t=e.changedTouches[0]).identifier!==n._touchID)return}var o=n._data,i=o.rect=n._getEventObjRect();o.dxStep=t.clientX-o.x,o.dyStep=t.clientY-o.y,o.dxStepAbs=Math.abs(o.dxStep),o.dyStepAbs=Math.abs(o.dyStep),o.x=t.clientX,o.y=t.clientY,o.xLocal=o.x-i.left,o.yLocal=o.y-i.top,o.dx=o.x-o.xStart,o.dy=o.y-o.yStart,o.dxAbs=Math.abs(o.dx),o.dyAbs=Math.abs(o.dy),o.dxLocal=o.xLocal-o.xLocalStart,o.dyLocal=o.yLocal-o.yLocalStart,o.dxLocalAbs=Math.abs(o.dxLocalAbs),o.dyLocalAbs=Math.abs(o.dyLocalAbs);var a=e.timeStamp;o.dragTime=a-o.startTime,o.stepTime=a-n._prevTime,n._prevTime=a,n._swipeH=o.dxStepAbs>n._swipeDis,n._swipeV=o.dyStepAbs>n._swipeDis;var c=n._options.move;c&&c.call(n._callbackHolder||n._eventObj,e,(0,r.default)({},o))}},this._endEventHandle=function(e){if(n._allowEvent){var t=n._data;if(e&&e.type){switch(e.type){case"touchend":case"touchcancel":if(e.changedTouches[0].identifier!==n._touchID)return}t.stepTime<n._swipeTime&&(n._swipeH&&(n._swipeH=!1,t.swipe=!0,t.dxStep<0?t.swipeLeft=!0:t.dxStep>0&&(t.swipeRight=!0)),n._swipeV&&(n._swipeV=!1,t.swipe=!0,t.dyStep<0?t.swipeTop=!0:t.dyStep>0&&(t.swipeBottom=!0))),(t.dxAbs>15||t.dyAbs>15)&&e.preventDefault()}var o=n._options.end;o&&o.call(n._callbackHolder||n._eventObj,e,(0,r.default)({},t)),n._touchID=-1,n._allowEvent=!1}},this.destroy=function(){n._removeEvent(),Object.getOwnPropertyNames(n).forEach(function(e){delete self[e]}),n.__proto__=Object.prototype},this._options=(0,r.default)({},b,t),this._init()}return o(e,[{key:"_init",value:function(){this._eventObj=this._options.obj||document.documentElement,this._callbackHolder=this._options.holder,this._swipeDis=5,this._swipeTime=200,this._swipeH=!1,this._swipeV=!1,this._prevTime=0,this._touchID=-1,this._allowEvent=!1,this._data={rect:null,xStart:0,yStart:0,xLocalStart:0,yLocalStart:0,x:0,y:0,xLocal:0,yLocal:0,dx:0,dy:0,dxAbs:0,dyAbs:0,dxLocal:0,dyLocal:0,dxLocalAbs:0,dyLocalAbs:0,dxStep:0,dyStep:0,dxStepAbs:0,dyStepAbs:0,swipeLeft:!1,swipeRight:!1,swipeTop:!1,swipeBottom:!1,swipe:!1,startTime:0,dragTime:0,stepTime:0},this._eventObj=(0,i.default)(this._eventObj)[0],this._addEvent(),this._createApi("open","close","stop","remove")}},{key:"_addEvent",value:function(){this._eventObj.addEventListener(v,this._startEventHandle,{passive:!1}),document.addEventListener(f,this._moveEventHandle,{passive:!1}),document.addEventListener(y,this._endEventHandle,{passive:!1}),m&&document.addEventListener(m,this._endEventHandle,{passive:!1})}},{key:"_removeEvent",value:function(){this._eventObj.removeEventListener(v,this._startEventHandle),document.removeEventListener(f,this._moveEventHandle),document.removeEventListener(y,this._endEventHandle),m&&document.removeEventListener(m,this._endEventHandle)}},{key:"_getEventObjRect",value:function(){if(this._eventObj.getBoundingClientRect)return this._eventObj.getBoundingClientRect();var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,t=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft;return{left:t,top:e,bottom:e+(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight),right:t+(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)}}},{key:"_open",value:function(){this._addEvent()}},{key:"_close",value:function(){this._removeEvent()}},{key:"_stop",value:function(){this._endEventHandle()}},{key:"_remove",value:function(){this._close(),this._stop()}},{key:"_createApi",value:function(){for(var e=this,t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];Object.values(n).forEach(function(t){var n=void 0,o=void 0;(0,c.default)(t)?n=o=t:(0,a.default)(t)&&(n=t[0],o=t[1]),e[o]=function(){for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];return e["_"+n].apply(e,o),e}})}}]),e}();t.default=h,e.exports=t.default}])});