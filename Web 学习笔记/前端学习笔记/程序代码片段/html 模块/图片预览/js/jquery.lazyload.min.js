!function(t,e,i,o){"use strict";function r(t){return function(i,r){var a=r||{},h=n(i[0]||i),f=n(a.container?a.container[0]||a.container:e);return h.empty||f.empty?o:t.call(h,h,a.threshold?f.pad(a.threshold):f)}}function n(o){if(!(this instanceof n))return new n(o);if(o===e)this.top=n.gbcr?0:a.scrollTop(),this.left=n.gbcr?0:a.scrollLeft(),this.bottom=this.top+(e.innerHeight||a.height()),this.right=this.left+(e.innerWidth||a.width());else if(n.gbcr){var r=o.getBoundingClientRect();this.top=r.top,this.left=r.left,this.bottom=r.bottom,this.right=r.right}else if("none"!==o.style.display&&t.contains(i,o)){var h=t(o),f=h.offset();this.top=f.top,this.left=f.left,this.bottom=this.top+h.outerHeight(),this.right=this.left+h.outerWidth()}else this.top=this.left=this.bottom=this.right=0;this.empty=0===this.top&&0===this.bottom&&0===this.left&&0===this.right}var a=t(e);t.fn.lazyload=function(r){function h(){var e,r,a=0,h=[],f=[];c.each(function(){if(this.loaded)return h.push(this);if(e=e||n(l[0]).pad(d.threshold),r=n(this).compareTo(e),o===r&&d.prune_detached&&!t.contains(i,this))h.push(this);else if(0===r)f.push(this),a=0;else if(1===r)return a++<d.failure_limit}),c=c.not(h),setTimeout(function(){t(f).trigger("appear")},0)}function f(e){h(),c.length&&e&&t(e.currentTarget).one(e.type,f)}function s(){var e=this,i=t(e),r=i.attr("data-"+d.data_attribute);return r?void(r!==i.data("original-image")&&(e.loaded=!1,(i.attr("src")===o||i.attr("src")===!1)&&i.is("img")&&i.attr("src",d.placeholder),i.off("appear"),i.one("appear",function(){e.loaded||(d.appear.call(e,c.length,d),t("<img />").bind("load error",function(o){if(t(this).unbind(),"error"===o.type)return d.error.call(e,c.length,d);var n="show"!==d.effect||d.effect_speed;n&&i.hide(),i.is("img")?i.attr("src",r):(i.data("background-image",i.css("background-image")),i.css("background-image","url('"+r+"')")),n&&i[d.effect](d.effect_speed),d.load.call(e,c.length,d)}).attr("src",r),e.loaded=!0,i.data("original-image",r))}),u||(i.off(d.event),i.one(d.event,function(){i.trigger("appear")})))):(e.loaded=!0,i.data("original-image",r),void(null===r&&r===!1&&(i.is("img")?i.attr("src",d.placeholder):i.css("background-image",i.data("background-image")))))}var l,c=this,d={threshold:0,failure_limit:0,event:"scroll touchmove",effect:"fadeIn",container:e,data_attribute:"src",prune_detached:!1,appear:t.noop,load:t.noop,error:t.noop,placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="};r&&(o!==r.failurelimit&&(r.failure_limit=r.failurelimit,delete r.failurelimit),o!==r.effectspeed&&(r.effect_speed=r.effectspeed,delete r.effectspeed),t.extend(d,r)),l=d.container===o||d.container===e?a:t(d.container);var u=!!d.event.match(/scroll|touchmove/);return u&&(l.one(d.event,f),a.one("resize",f),t(i).ready(h)),this.each(s),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&a.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&c.each(function(){t(this).trigger("appear")})}),this.lazyloadUpdate=function(){if(this.selector){for(var e=0,i=this.length;i>e;e++)delete this[e];this.length=0,t.merge(this,t(this.selector)),this.each(s),c=this,u&&(l.off(d.event,f),l.one(d.event,f),a.off("resize",f),a.one("resize",f))}u&&h()},this},t.extend({belowthefold:r(function(t,e){return t.top>e.bottom}),rightoffold:r(function(t,e){return t.left>e.right}),abovethetop:r(function(t,e){return t.bottom<e.top}),leftofbegin:r(function(t,e){return t.right<e.left}),inviewport:r(function(t,e){return 0===t.compareTo(e)})}),t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e)},"above-the-top":function(e){return t.abovethetop(e)},"right-of-screen":function(e){return t.rightoffold(e)},"left-of-screen":function(e){return t.leftofbegin(e)},"in-viewport":function(e){return t.inviewport(e)},"above-the-fold":function(e){return!t.belowthefold(e)},"right-of-fold":function(e){return t.rightoffold(e)},"left-of-fold":function(e){return!t.rightoffold(e)}}),n.gbcr=o!==i.documentElement.getBoundingClientRect,n.prototype.pad=function(t){return this.top-=t,this.left-=t,this.bottom+=t,this.right+=t,this},n.prototype.compareTo=function(t){return this.empty||t.empty?o:this.bottom<t.top||this.right<t.left?-1:this.top>t.bottom||this.left>t.right?1:0}}(jQuery,window,document);