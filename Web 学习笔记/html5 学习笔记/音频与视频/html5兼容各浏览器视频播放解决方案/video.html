<!doctype html>
<html lang="zh-CN" id="page_cxt">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="format-detection" content="telephone=no, email=no" />
<meta name="msapplication-tap-highlight" content="no" />
<meta name="renderer" content="webkit">
<meta name="keywords" content="">
<meta name="description" content="">
<title>视频</title>
<style>
body {
	margin: 0;
	text-align: center;
	overflow: hidden;
}
#video {
	background-color: #000;
}
</style>
</head>
<body>
<!--每个video都需要有一个单独的parentNode，即每个video外面都有个div或者p等等。为了兼容IE876-->
<!--如果视频源是本地路径，flash会加载不到-->
<div class="video-wrap">
	<video id="video">
		<source id="source">
	</video>
</div>
<script>
/* <iframe src="video.html?
	src=http://www.laikabase.de/videos/Shift.mp4&
	poster=http://www.laikabase.de/cp_view/images/userfiles/slideshows/19_thumb_Shift_Image1.jpg&
	width=640&
	height=352&
	autoplay=true
	" frameborder="0" width="650" height="362"></iframe> */

var search = window.location.search,
	params = parseQueryString(search),

	width = params.width || 500,
	height = params.height || 500,
	type = params.type || "video/mp4",
	src = params.src || "",
	poster = params.poster || "",
	autoplay = params.autoplay || false,
	controls = params.controls || true,

	video = document.getElementById("video"),
	source = document.getElementById("source");

// video 元素的宽和高只能设置number值，默认为像素
// 无论设置 "100px" 或者 "100%" 都是无效的
video.width = width;
video.height = height;
video.poster = poster;
video.autoplay = autoplay;
video.controls = controls;

source.type = type;
source.src = src;

function parseQueryString(url) {
	var obj = {};
	var a = url.split('?');
	if(a.length == 1) return obj;
	var b = a[1].split('&');
	for(var i = 0, l = b.length; i < l; i++) {
		var c = b[i].split('=');
		obj[c[0]] = c[1];
	}
	return obj;
}
</script>
<script src="video.js"></script>
</body>
</html>
